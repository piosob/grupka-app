---
import MainLayout from '../layouts/MainLayout.astro';
import { DashboardContainer } from '../components/react/DashboardContainer';

// User must be authenticated to access this page (protected by middleware)
const user = Astro.locals.user;

if (!user) {
    return Astro.redirect('/login');
}

const error = Astro.url.searchParams.get('error');

---

<MainLayout title="Panel - Twoje grupy">
    <div class="max-w-4xl mx-auto">
        <DashboardContainer errorType={error} client:load />
    </div>
</MainLayout>

