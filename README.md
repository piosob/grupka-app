# Grupka - Parent Organization App

[![License: All Rights Reserved](https://img.shields.io/badge/License-All%20Rights%20Reserved-red.svg)](LICENSE)

A mobile-first server-side rendering web application designed to help parents self-organize in preschool and school groups. Streamlines communication about birthdays and gifts while prioritizing user privacy and minimizing notifications.

## üìã Table of Contents

- [Description](#-description)
- [Tech Stack](#-tech-stack)
- [Getting Started Locally](#-getting-started-locally)
- [Available Scripts](#-available-scripts)
- [Project Scope](#-project-scope)
- [Project Status](#-project-status)
- [License](#-license)
    - [Third-Party Licenses](#third-party-licenses)

## üì± Description

**Grupka (MVP)** is a server-side rendering (SSR) web application built with a **Mobile First** philosophy for parent self-organization in preschool and school groups. The main goal is to streamline communication regarding birthdays and gifts while respecting user privacy and minimizing notifications.

### Key Features

- **Mobile-First Design**: Optimized for smartphone touch interfaces with large tap targets and thumb-friendly navigation
- **Temporary Invitation Codes**: Secure 30-minute invitation codes generated by administrators
- **Administrator Role**: Admin contact via email with reveal-on-click functionality
- **Hidden Guest Threads**: Private comment sections for event guests (invisible to organizers via Row Level Security)
- **Privacy-Focused**: Minimal personal data collection (no names), asynchronous communication model
- **Future Roadmap**: AI Assistant (Magic Wand), gift list automation, and E2E testing (Planned for next release)

### Problem Solved

Current solutions like WhatsApp and Messenger suffer from:

- **Information Chaos**: Important birthday/gift information gets lost in daily chat noise
- **Lack of Discretion**: Difficulty organizing gift collections when the child's parent is in the same group
- **Anonymous Administrators**: Parents don't know who manages the group or who to contact for issues
- **Group Security**: Risk of unauthorized access due to permanent invitation links
- **Gift Planning Challenges**: Lack of personalized gift ideas and wish list management

## üõ† Tech Stack

### Frontend

- **Astro 5** - Fast, efficient pages and applications with minimal JavaScript
- **React 19** - Interactive components where needed
- **TypeScript 5** - Static typing and enhanced IDE support
- **Tailwind 4** - Convenient styling framework
- **Shadcn/ui** - Accessible React component library

### Backend

- **Supabase** - Complete backend solution providing:
    - PostgreSQL database
    - Multi-language SDK (Backend-as-a-Service)
    - Built-in user authentication
    - Open source (can be self-hosted)
- **API Architecture** - Standard Astro API Routes (REST endpoints)
    - ‚ö†Ô∏è **Note:** Astro Actions were removed due to `instanceof` errors in Vercel serverless environment
    - All authentication and business logic uses conventional API Routes for production reliability

### AI Integration (Planned/Nice-to-have)

- **OpenRouter.ai** - Integration with various AI models (OpenAI, Anthropic, Google, etc.) is planned for the next release to power the Magic Wand feature.

### Testing

- **Vitest** - Unit and integration testing (including behavioral user-perspective tests)
- **Playwright** - (Planned for v2.0) End-to-end testing and mobile responsiveness verification

### CI/CD & Hosting

- **GitHub Actions** - CI/CD pipeline (Tests & Build verification)
- **Vercel** - Production hosting and Continuous Deployment

## üöÄ Getting Started Locally

### Prerequisites

- Node.js (see `.nvmrc` for recommended version)
- npm or yarn package manager

### Installation

1. **Clone the repository**

    ```bash
    git clone <repository-url>
    cd grupka-app
    ```

2. **Install dependencies**

    ```bash
    npm install
    ```

3. **Set up environment variables**

    ```bash
    # Create .env file with required variables
    # Add your Supabase and OpenRouter API keys
    ```

4. **Start the development server**

    ```bash
    npm run dev
    ```

5. **Open your browser**
   Navigate to `http://localhost:4321`

## üìú Available Scripts

All commands are run from the root of the project:

| Command           | Description                                                |
| ----------------- | ---------------------------------------------------------- |
| `npm run dev`     | Starts local development server at `localhost:4321`        |
| `npm run build`   | Builds production site to `./dist/` directory              |
| `npm run preview` | Previews production build locally before deployment        |
| `npm run astro`   | Runs Astro CLI commands (e.g., `astro add`, `astro check`) |
| `npm run lint`    | Runs ESLint to check code quality                          |
| `npm run format`  | Formats code using Prettier                                |
| `npm run check`   | Runs ESLint in quiet mode for CI/CD                        |

## üéØ Project Scope

### In Scope ‚úÖ

- Mobile-optimized web application
- Email/password authentication via Supabase
- Group member management (invite with 30min codes, remove members)
- Administrator contact mechanism (email reveal)
- Event creation with guest selection
- Hidden comment threads for guests (RLS protected)
- Birthday and gift organization features

### Planned / Nice to Have (Next Release) üöÄ

- AI-assisted profile editing using OpenRouter (Magic Wand)
- Advanced gift list generation and recommendations
- Native-like mobile experience enhancements

### Out of Scope ‚ùå

- Native mobile applications (iOS/Android)
- Push notifications
- Internal 1:1 chat system
- Teacher role functionality
- File and photo uploads
- Automatic email sending via mailto links

## üìä Project Status

**Status: MVP Development** üèóÔ∏è

This project is currently in active development as a Minimum Viable Product. Core features are being implemented including:

- User authentication and group management
- Mobile-first responsive design
- Secure invitation system with time-limited codes
- Administrator tools and member moderation
- Private guest communication threads
- _AI integration is currently moved to the next release roadmap._

### Success Metrics

- **Mobile Performance**: Lighthouse Score > 90 for Performance and Accessibility
- **Security**: 100% blocked organizer access to hidden threads in automated Vitest tests
- **Group Security**: Average number of generated codes per group
- **User Retention**: Percentage of users returning within 30 days
- **Future AI Metric**: Percentage of child profiles saved after using Magic Wand feature (next release)

## üìÑ License

Copyright (c) 2025 Piotr Sobieski - All Rights Reserved.

The source code is available for educational purposes only. Commercial use, modification, and redistribution of this code is strictly prohibited without written permission from the author.

See [LICENSE](LICENSE) file for full details.

### Third-Party Licenses

This project is proprietary software, but it utilizes several open-source packages under various licenses (MIT, Apache 2.0, ISC, etc.). Below is a list of the main dependencies and their respective licenses:

#### Production Dependencies

| Package                                              | License    |
| :--------------------------------------------------- | :--------- |
| `astro`, `@astrojs/node`, `@astrojs/react`           | MIT        |
| `react`, `react-dom`                                 | MIT        |
| `@radix-ui/*` (various components)                   | MIT        |
| `@supabase/supabase-js`, `@supabase/ssr`             | MIT        |
| `@tanstack/react-query`                              | MIT        |
| `tailwindcss`, `@tailwindcss/vite`, `tailwind-merge` | MIT        |
| `react-hook-form`, `@hookform/resolvers`             | MIT        |
| `lucide-react`                                       | ISC        |
| `class-variance-authority`                           | Apache-2.0 |
| `clsx`                                               | MIT        |
| `sonner`                                             | MIT        |
| `next-themes`                                        | MIT        |

#### Development Dependencies

| Package                         | License |
| :------------------------------ | :------ |
| `typescript`, `@types/*`        | MIT     |
| `eslint`, `eslint-plugin-*`     | MIT     |
| `prettier`, `prettier-plugin-*` | MIT     |
| `vitest`                        | MIT     |
| `tw-animate-css`                | MIT     |

All other trademarks and copyrights are the property of their respective owners.
